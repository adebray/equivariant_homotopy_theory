Today, we'll talk about Mackey functors, picking up more or less where we left off. The category of Mackey
functors is a replacement for the category of abelian groups for the purpose of defining cohomology theories; it's
also an abelian category, but it's more complicated. For now, let's assume $G$ is a finite group; we will address
the compact case later.

We'll let $G\Set$ denote the category of finite $G$-sets and equivariant maps. When we work with $\RO(G)$-graded
theories, it will be important to embed everything in some universe, an infinite $G$-set containing all finite
$G$-sets up to isomorphism. It's okay to be lax about this at first, but there are subtleties to $\RO(G)$-graded
theories that make this important; \cite{GuillouMay} provided the first proof of the folklore result that
$G$-spectra are spectral presheaves on the Burnside category, but there were important coherence issues to work
out, for example.

Anyways, we saw last time that a Mackey functor $\underline M$ is specified by a pair of functors $M_*,M^*$, where
$M_*\colon G\Set\to\Ab$ is covariant, $M^*\colon (G\Set)\op\to\Ab$ is contravariant, and $M_*$ and $M^*$ agree on
objects, so it makes sense to write $\underline M(T)$ or $\underline M(G/H)$ (the latter may also be written
$\underline M(H)$).

Mackey functors are determined by their restrictions to orbits, as $\underline M(A\amalg B) = \underline
M(A)\oplus\underline M(B)$ and given a pullback
\[\xymatrix{
	W\pullback\ar[r]^\alpha\ar[d]_\beta & X\ar[d]^\gamma\\
	Y\ar[r]_\delta & Z,
}\]
$M_*(\beta)M^*(\alpha) = M^*(\delta)M_*(\gamma)$. This resembles the six-functor formalism.

You should think of Mackey functors as abstracting double coset formulae, especially when reading the literature or
in representation theory: they tell you something about how restriction and transfer maps commute.
\begin{prop}
The category of Mackey functors is abelian.
\end{prop}
We'll find this useful later, when we need to do homological algebra.

Suppose $H$ and $K$ are subgroups of $G$ and $f\colon G/H\to G/K$ is a $G$-map. Then, we call $\Res_H^K\coloneqq
M^*(f)$ a \term{restriction map} and $\Tr_H^K\coloneqq M_*(f)$ a \term{transfer map}.
\begin{exm}\hfill
\label{Mackeyexm}
\begin{enumerate}
	\item Let $X$ be a $G$-space. Then, $\pi_n"\bl(X)$, the functor sending $G/H\mapsto\pi_n^H(X)$, is a Mackey
	functor: by the Wirthm√ºller isomorphism and the fact that orbits are self-dual,
	\[\pi_n^H(X)\cong [S^n\wedge G/H_+, X]\cong [S^n, X\wedge G/H_+],\]
	so it's clear how a map $G/H\to G/K$ induces both a right-way and a wrong-way map.
	\item Let $\underline\Z$ denote the \term{constant Mackey functor} in $\Z$, which assigns $\Z$ to every object.
	You have to figure out what the transfers and restrictions are, but in the end the restrictions are the
	identity and the transfers are multiplication by the Euler characteristic.
	\item The \term{Burnside Mackey functor} $A(G)$ is defined by letting $A(G)(G/H)$ be the Grothendieck group of
	the monoid on $H$-sets under coproduct. The transfer and restriction maps come from induction and restriction,
	respectively, between $H\Set$ and $K\Set$.
	\item The \term{representation Mackey functor} $R(G)$ is defined by letting $R(G)(G/H)$ be the Grothendieck
	group of finite-dimensional $H$-representations, with transfer and restriction given by
	$\Z[K]\otimes_{\Z[H]}\bl$.
	\qedhere
\end{enumerate}
\end{exm}
The representation Mackey functor contains the information of double coset formulae in representation theory.
Namely, suppose $H$ and $K$ are subgroups of $G$ contained in a common subgroup $J\subseteq G$. The universal
property of the product gives us a pullback diagram
\[\xymatrix{
	J/H\times J/K\pullback\ar[r]\ar[d] & J/K\ar[d]\\
	J/H\ar[r] & J/J.
}\]
If you apply induction to this, you obtain
\begin{equation}
\label{indcosets}
\gathxy{
	G\times_J (J/H\times J/K)\ar[r]\ar[d] & G\times_J(J/K)\cong G/K\ar[d]\\
	G/H\ar[r] & G/J.
}
\end{equation}
As a finite $G$-set, $J/H\times J/K$ is a coproduct of orbits, determined by their stabilizers.
\begin{ex}
Compute the stabilizer of a point in $G/H\times G/K$, therefore proving that
\[J/H\times J/K\cong \coprod_{X\in[H\backslash J/K]} G/(H\cap xKx^{-1}).\]
This is good practice for working with double cosets, and how group-theoretically, they behave much like ordinary
cosets.
\end{ex}
Thus~\eqref{indcosets} becomes
\begin{equation}
\label{finalcsdiag}
\gathxy{
	\coprod_{X\in[H\backslash J/K]} G/(H\cap xKx^{-1})\ar[r]^-{f_2}\ar[d]^{f_1} & G/K\ar[d]\\
	G/H\ar[r] & G/J.
}
\end{equation}
The point is that explicitly determining what $f_1$ and $f_2$ are will produce the double coset formulae. Since
$H\cap xKx^{-1}$ is a subgroup of $K$, we have a map $G/(H\cap xKx^{-1})\to G/H$, and taking the coproduct over
$x\in[K\backslash J/H]$ we obtain $f_1$.

$f_2$ is harder, but not much harder: after conjugating by $x$, we obtain a map $G/(x^{-1}Hx\cap K)\to G/K$,
so $f_2$ is conjugation followed by the natural map.

This means that you can compute how $\Res_H^k$ and $\Tr_H^K$ interact by looking at the two ways around the
diagram from $G/H$ to $G/K$, using the restriction and transfer maps for contravariance and covariance,
respectively.
\begin{equation}
\label{double_coset_formula}
\Res_K^G\Tr_H^G = \bigoplus_{x\in H\backslash G/K} \Tr_{H\cap xKx^{-1}}^K c_x\Res_{H\cap xK^{-1}x}^H,
\end{equation}
where $c_x$ is the conjugation map.
\begin{rem}
Some treatments define a Mackey functor directly in terms of the restriction and transfer maps with axioms
including the double coset formula~\eqref{double_coset_formula}. The more abstract approach we took follows
\cite{Dress}, while older treatments take the axiomatic approach. In general, the proofs of properties of Mackey
functors are sketched or left out in the literature, but \cite{Webb} and \citeme{Devinatz} are pretty good
references.
\end{rem}
\subsection*{$\RO(G)$-graded cohomology theories.}
In the back of your mind, you should be wondering about the connection between $G$-spectra, equivariant cohomology
theories, and Mackey functors. In the nonequivariant setting, Brown representability establishes an (almost)
equivalence between spectra and cohomology theories. Equivariantly, things are very similar: $G$-spectra play the
role of spectra, equivariant cohomology theories play the role of cohomology theories, and, less tautologically,
Mackey functors play the role of abelian groups. We'll talk about rings later.

Roughly speaking, an $\RO(G)$-graded cohomology theory should be some collection of functors $E^\alpha$ indexed by
$\alpha\in\RO(G)$ such that for any $G$-representation $V$, $E^\alpha(X) \cong E^{\alpha+V}(\Sigma^V X)$, and any
fixed $\alpha$ should satisfy the wedge and cofiber axioms, taking wedge products to coproducts and cofiber
sequences to long exact sequences.

The (well, an) issue that makes this tricky is that you can't really work with isomorphism classes of
representations, even though you need that to define $\RO(G)$. As a workaround, let's fix a $G$-universe $U$ and
define $\cat{RO}(G;U)$ to be the category whose objects are finite-dimensional representations $V$ that embed
equivariantly in $U$ and whose morphisms $V\to W$ are $G$-equivariant isometric isomorphisms.\footnote{The data of
the embedding $V\inj U$ is not used in $\cat{RO}(G;U)$. When we discuss multiplicative structures, this will
change.} We say that two maps $f,g\colon V\to W$ are \term{homotopic} if their one-point compactifications
$\overline f, \overline g\colon S^V\to S^W$ are stably homotopic. We don't have enough structure to set up a model
category or anything, but we can define the homotopy category $\Ho(\cat{RO}(G;U))$ by passing to homotopy classes
of maps.

A finite-dimensional $G$-representation defines a suspension functor
\[\Sigma^W\colon \Ho(\cat{RO}(G;U))\times\Ho(G\Top)\longrightarrow \Ho(\cat{RO}(G;U))\times\Ho(G\Top)\]
which sends
\[(V,X)\mapsto (V\oplus W, \Sigma^W X).\]
This feels a lot like ordinary $S^W$-suspension, but we're keeping track of the automorphisms of $W$.
\begin{defn}
An \term{$\RO(G)$-graded cohomology theory} is a functor $E\colon\Ho(\cat{RO}(G;U))\times\Ho(G\Top)\op\to\Ab$,
where $E(V,X)$ is generally written $E^V(X)$, together with
isomorphisms
\[\sigma_W\colon E^V(X)\longrightarrow E^{V\oplus W}(\Sigma^W X),\]
such that for each $V$, $E^V(\bl)$ satisfies the wedge and cofiber axioms and for each isometric isomorphism
$\alpha\colon W\to W'$, the map
\[\xymatrix{
	E^V(X)\ar[r]^-{\sigma_W}\ar[d]^{\sigma_{W'}} & E^{V\oplus W}(\Sigma^W X)\ar[d]^{(\id\oplus\alpha, \id)}\\
	E^{V\oplus W'}(\Sigma^{W'}X)\ar[r]^{(\id\oplus\id, \alpha)} & E^{V\oplus W'}(\Sigma^W X).
}\]
We further require that $\sigma_0 = \id$ and the $\set{\sigma_W}$ are transitive: $\sigma_W\circ\sigma_V =
\sigma_{V\oplus W}$.
\end{defn}
\begin{defn}
The \term{formal differences} of objects in $\cat{RO}(G;U)$ are equivalence classes of pairs $(V,W)$ of objects in
$\cat{RO}(G;U)$, where $(V,W)\sim(V',W')$ if $V\oplus W'\cong V'\oplus W$. The pair $(V,W)$ is also denoted
$V\ominus W$.
\end{defn}
We can extend an $\cat{RO}(G;U)$-graded cohomology theory to formal differences by $E_{V\ominus W}(X)\coloneqq
E_V(\Sigma^W X)$.

Let $\tau\colon V\oplus W\to W\oplus V$ be the transposition natural isomorphism. Then, the coherence condition on
the $\sigma_{(\bl)}$ means that the diagram
\[\xymatrix{
	E_V(\Sigma^W X)\ar[r]\ar[d] & E_{V\oplus W'}(\Sigma^{W\oplus W'}X)\ar[d]^{\tau_*}\\
	E_{V'}(\Sigma^{W'}X)\ar[r] & E_{V'\oplus W}(\Sigma^{W'\oplus W}X)
}\]
commutes.
\begin{rem}
When you add ring structures to this story, the coherence conditions become gnarlier: there's a cocycle arising
from the pentagon diagram for associativity. Unfortunately, this is not treated well in the literature; Lewis'
thesis~\cite{LewisThesis} discusses it, but was not fully published. \cite[Appendix A]{LewisMandell} talks about
it, and \citeme{Duggar} worked it out in the abstract in the motivic setting.
\end{rem}
We'll also need to talk about the equivalence between $\Spc^G$ and $\RO(G)$-graded cohomology theories; one
direction is Brown representability, and the other is more or less straightforward.

You may be asking why we use $\RO(G)$-graded theories at all. One great reason is that there are known examples of
$\Z$-graded cohomology theories that are extremely chaotic, but the $\RO(G)$-graded theories have nice patterns.
% earliest example I know is big hard book by Gaunce Lewis
Another, more recent, realization is that in many cases the $\RO(G)$-graded theories carry more useful information.
However, of course, they're extremely hard to compute.
